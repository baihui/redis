#### RDB

RDB持久化既可以手动执行，也可以根据服务器配置save选项定期执行，数据库状态**key-value** 保存到一个经过压缩的二进制RDB文件中 通过该文件可以还原生成RDB文件时的数据库状态。

* ##### 手动（save和bgsave命令）
   * save
      $$save命令会阻塞Redis服务器进程，直到RDB文件创建完毕为止，在服务器进程 阻塞期间， 服务器不能处理任何命令请求：$$
      
      ``` 
      save 
      
      ```
   * bgsave
      $$ bgsave命令会不阻塞Redis服务器进程，而是派生出另外线程进行持久化：$$
     
       ``` 
      bgsave 
      
      ```

   
* ##### 自动（配置文件save 参数 执行的命令是bgsave）
   
   save 900 1 
   save 300 10 
   save 60 10000
 
   只要满足以上三个条件中的任意一个，BGSAVE命令就会被执行
 
> RDB文件的载入是在服务器启动时自动执行的， 并没有专门用于载入RDB文件的命令， 只要Redis服务器在启动时检测到RDB文件存在， 它就会自动载入RDB文件。
![](/assets/屏幕快照 2018-09-06 上午7.22.53.png)
 


* ##### 关闭RDB备份

   将配置文件中关于save配置信息全部注释，如下：

   ```
   save ""
   ```
   重启Redis服务即可 或者执行操作命令
   
   ```
   CONFIG SET save ""
   
   ```
   执行命令后，无需重启服务，即可生效。
   


#### AOF