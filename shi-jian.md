##### Redis服务器是一个事件驱动程序，服务器需要处理以下两类事件：


* 文件事件（fileevent）：Redis服务器通过套接字与客户端（或者其他Redis服务器）进行连接，而文件事件就是服务器对套接字操作的抽象。服务器与客户端（或者其他服务器）的通信会产生相应的文件事件，而服务器则通过监听并处理这些事件来完成一系列网络通信操作。
    
    * 一个套接字执行连接应答、写入、读取、关闭等操作时， 就会产生一个文件事件 I/ O多路复用程序负责监听多个套接字， 并向文件事件分派器传送一个事件的套接字。如图下：
    
   ![](/assets/32CD2B56-2206-41D6-9D32-F61C6D748B16.png)
   
    
   
   
   
      * 队列存放了多个客服端并发的套接字，然后通过这个队列，以有序（sequentially）、同步（sync    hronously）、每次一个套接字的方式向文件事件分派器传送套接字。当上一个套接字产生的事件被处理完毕之后（该套接字为事件所关联的事件处理器执行完毕），I/O多路复用程序才会继续向文件事件分派器传送下一个套接字   


![](/assets/944FBDF9-A4FD-445A-9921-23116EBE7E8F.png)


* 时间事件（timeevent）：Redis服务器中的一些操作（比如serverCron函数）需要在给定的时间点执行，而时间事件就是服务器对这类定时操作的抽象。